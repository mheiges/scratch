!! per-website working directory tree so production is distinct from others
!! separate cluster trees so existing jobs can continue to run after changing clusert conf

# CLUSTER

CLUSTER_PREFIX=/scratch/jcklab/eupath/
RELEASE=5
SITE=integrate

$CLUSTER_PREFIX/orthomcl-mapping-service/
    db/$RELEASE/
        proteinSeqs
        proteinSeqs.phr
        proteinSeqs.pin
        proteinSeqs.psq
    $SITE/
        gus_home
        project_home
        queues/
            rcluster.rcc.uga.edu/
                results
                newJobs
                phase2
                phase2/runningJobs
                phase2/failedJobs
                phase1
                phase1/runningJobs
                phase1/failedJobs
            login.genomics.upenn.edu/
                results
                newJobs
                phase2
                phase2/runningJobs
                phase2/failedJobs
                phase1
                phase1/runningJobs
                phase1/failedJobs

    

# WEBSERVER


WEBSERVER_PREFIX=/var/www/Common/
SITE=integrate

$WEBSERVER_PREFIX/orthomcl-mapping-service/
    $SITE/
        queues/
            rcluster.rcc.uga.edu/
                results
                newJobs
                phase2
                phase2/runningJobs
                phase2/failedJobs
                phase1
                phase1/runningJobs
                phase1/failedJobs
            login.genomics.upenn.edu/
                results
                newJobs
                phase2
                phase2/runningJobs
                phase2/failedJobs
                phase1
                phase1/runningJobs
                phase1/failedJobs

# all sites share the same blast databases for a given release
# each website has its own project and gus home so divergent svn branches can be used
# 'queues' directory tree on cluster matches webserver (but not necessarily vice versa).
    to make it easier to track items in the queue
    $PREFIX/orthomcl-mapping-service/integrate/queues/zcluster.rcc.uga.edu/newJobs

# defaults to trunk if not set
BRANCH=orthomclwebsite-5

BRANCHPATH=${BRANCH:+"branches/$BRANCH"}
BRANCHPATH=${BRANCHPATH:-trunk}

echo $BRANCHPATH
svn co https://www.cbil.upenn.edu/svn/apidb/ApiCommonWorkflow/$BRANCHPATH ApiCommonWorkflow
svn co https://www.cbil.upenn.edu/svn/gus/install/trunk install
svn co https://www.cbil.upenn.edu/svn/gus/DJob/branches/$BRANCHPATH DJob
svn co https://www.cbil.upenn.edu/svn/gus/CBIL/branches/internal/orthomclwebsite-5 CBIL
